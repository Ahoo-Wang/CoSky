import { ResultExtractors } from "@ahoo-wang/fetcher";
import { type ApiMetadata, type ApiMetadataCapable, type ParameterRequest, api, attribute, autoGeneratedError, del, get, path, put, request } from "@ahoo-wang/fetcher-decorator";
import { ResourceActionDto, RoleDto, SaveRoleRequest } from "./types";

@api()
export class RoleApiClient implements ApiMetadataCapable {
    constructor(public readonly apiMetadata?: ApiMetadata) {
    }

    /**
     * - operationId: `allRole`
     * - path: `/v1/roles`
     */
    @get('/v1/roles')
    allRole(@request() httpRequest?: ParameterRequest, @attribute() attributes?: Record<string, any>): Promise<RoleDto[]> {
        throw autoGeneratedError(httpRequest, attributes);
    }

    /**
     * - operationId: `getResourceBind`
     * - path: `/v1/roles/{roleName}/bind`
     */
    @get('/v1/roles/{roleName}/bind')
    getResourceBind(@path('roleName') roleName: string, @request() httpRequest?: ParameterRequest, @attribute() attributes?: Record<string, any>): Promise<ResourceActionDto[]> {
        throw autoGeneratedError(roleName, httpRequest, attributes);
    }

    /**
     * - operationId: `removeRole`
     * - path: `/v1/roles/{roleName}`
     */
    @del('/v1/roles/{roleName}')
    removeRole(@path('roleName') roleName: string, @request() httpRequest?: ParameterRequest, @attribute() attributes?: Record<string, any>): Promise<boolean> {
        throw autoGeneratedError(roleName, httpRequest, attributes);
    }

    /**
     * - operationId: `saveRole`
     * - path: `/v1/roles/{roleName}`
     */
    @put('/v1/roles/{roleName}', { resultExtractor: ResultExtractors.Response })
    saveRole(@path('roleName') roleName: string, @request() httpRequest: ParameterRequest<SaveRoleRequest>, @attribute() attributes?: Record<string, any>): Promise<Response> {
        throw autoGeneratedError(roleName, httpRequest, attributes);
    }
}
